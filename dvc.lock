schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: ea6da27ccf1ac9aad0d21fbe3f23803a
      size: 3521
  extract_features:
    cmd: python src/features/extract_features.py
    deps:
    - path: src/features/extract_features.py
      hash: md5
      md5: 53dc14adfe7af51e8a5ff18046462311
      size: 4730
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 42
    outs:
    - path: data/processed/resampled_data.csv
      hash: md5
      md5: ed4bab758479a078084a25b4a6d7dd47
      size: 8480304
    - path: models/mb_kmeans.joblib
      hash: md5
      md5: ee6f65ed9e145230ae156ef28e8c20e3
      size: 141179
    - path: models/scaler.joblib
      hash: md5
      md5: 6011f0f72031bb0e75eeaed8cf05c679
      size: 919
  feature_processing:
    cmd: python src/features/feature_processing.py
    deps:
    - path: data/processed/resampled_data.csv
      hash: md5
      md5: ed4bab758479a078084a25b4a6d7dd47
      size: 8480304
    - path: src/features/feature_processing.py
      hash: md5
      md5: ee9a7454a7e03237cb3c58dba6f863bc
      size: 2534
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
  train:
    cmd: python src/models/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
    - path: src/models/train.py
      hash: md5
      md5: b5316aa0bb2f3e3456a08db72070404a
      size: 2271
    outs:
    - path: models/encoder.joblib
      hash: md5
      md5: d8632127d1ed3970ff4cf50c22d8354a
      size: 3204
    - path: models/model.joblib
      hash: md5
      md5: 9111a9234e53803d1b1fb7d6ac9d38c6
      size: 2152
  evaluate:
    cmd: python ./src/models/evaluate.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 264e992b536f0c2bc78ae737c3bf96c0
      size: 9609288
    - path: ./models/encoder.joblib
      hash: md5
      md5: d8632127d1ed3970ff4cf50c22d8354a
      size: 3204
    - path: ./models/model.joblib
      hash: md5
      md5: 9111a9234e53803d1b1fb7d6ac9d38c6
      size: 2152
    - path: ./src/models/evaluate.py
      hash: md5
      md5: c0d26911105ea254eacdde76e8059e6d
      size: 4236
    outs:
    - path: ./run_information.json
      hash: md5
      md5: c6e75ff283e987c49dd32e23b25a0c5a
      size: 175
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: c6e75ff283e987c49dd32e23b25a0c5a
      size: 175
    - path: ./src/models/register_model.py
      hash: md5
      md5: 1ba30edb7aa1fef3e44410ccf7d16ec5
      size: 2406
